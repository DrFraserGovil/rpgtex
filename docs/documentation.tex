
\documentclass[size=10pt,theme=default]{rpgbook}

\usepackage{doc}
\usepackage{blindtext}
\usepackage{imakeidx}
\makeindex
\def\rpgtex{\texttt{rpgtex}}

\cover{../example/img/typewriter}

\title{The rpgtex Package}
\subtitle{A package for generating beautiful RPG documents}
\author{Jack Fraser-Govil}

\newcommand{\lindex}[1]{%
  \lowercase{\def\temp{#1}}%
  \expandafter\index\expandafter{\temp}%
}

\NewDocumentCommand{\cmdidx}{ o m }{
	\foreach \m in {#2}
	{
		% \lindex{\texttt{\textbackslash{}\lowercase{\m}}@{\lowercase{\m}}}
		\IfNoValueTF{#1}
		{
			 \lowercase{\def\temp{\m}}
			\expandafter\index\expandafter{\temp@\texttt{\textbackslash\m}}
		 }
		 {
			% \index{\m}
			 \lowercase{\def\temp{\m}}
			\expandafter\index\expandafter{#1!\temp@\texttt{\textbackslash\m}}
		 }
	}
}

\begin{document}
	\frontmatter
	\maketitle{}

	%%% fancy intro/abstract
		\onecolumn{}
		~\vfill{}
		\newcommand\forcelink[2]
		{
			\href{#1}{{\color{blue!70!black}#2}}
		}
		\begin{center}
		\parbox[c]{0.8\linewidth}{
			\large
			\justifying{}

			\RpgDropCap{W}{elcome to the \rpgtex{} package}. This \LaTeX{} package is designed to allow users to flexibly typeset documents associated with Role Playing Games such as \textit{Dungeons \& Dragons} -- and many more besides. This packages defines a central engine: \texttt{rpgcore} which define a number of useful functions and classes, and a flexible set of \texttt{themes} which control how those commands are rendered in the final document.

			\vspace{2cm}
			\subsection*{Attribution \& License}

			This package would not have been possible without the team who developed \forcelink{https://github.com/rpgtex/DND-5e-LaTeX-Template/tree/dev}{its predecessor, the `DND 5e LateX Template'}. That code was released under an MIT license, the text of which can be found in the LICENSE file. \texttt{rpgtex} is released under the same license.
			}
		\end{center}

		\vfill{}
		\twocolumn{}

	\tableofcontents
	\mainmatter{}


		
	\part{rpgtex Core}
		\input{parts/intro.tex}
		\input{parts/commands.tex}
		\input{parts/environments.tex}
		\input{parts/variables.tex}
		\input{parts/fonts.tex}
		\input{parts/compiler.tex}
	\part{rpgtex Classes}
		\input{parts/class_book.tex}
		\input{parts/class_handout.tex}
		\input{parts/class_card.tex}
	\part{Themes}
		\input{parts/themes_default.tex}
		\input{parts/themes_dnd.tex}
		\input{parts/themes_scifi.tex}

	\RpgSetTheme{default}
	\printindex
\end{document}
