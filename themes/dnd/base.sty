
\RenewDocumentCommand{ \RpgDiceFormat }{m m m m}
{
     % #1: Dice Number, #2: Dice Sides, #3: Modifier, #4: Mean result

     \str_if_empty:nTF { #2 }  % Changed #2 to ##2
     {
       % CASE: Not a roll (just a number like "12")
       #1                    % Changed #1 to ##1
     }
     {
       % CASE: Is a dice roll (e.g., "2d6+5")
       (#4)~#1 d #2 #3          % Changed #1, #2, #3 to ##1, ##2, ##3
     }
}
