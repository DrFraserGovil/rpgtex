
\ExplSyntaxOff
\RenewDocumentCommand\RpgDrawPartPage{m}
{

	\def\radius{0.2\paperwidth}
	\def\overset{10}
	\draw[line width=3pt,titlegold,fill=statblockbg] (current page.north) ++ ({-\radius*cos(\overset)},{8pt}) arc ({180-\overset}:{360+\overset}:\radius)--cycle;

	\node at ($(current page.north)+(0,-1.2)$) {{\RpgFontPart \textcolor{titlered}{\bf {\MakeUppercase{Part \thepart}}}}};
	\node[anchor=north] at ($(current page.north)+(0,-2.4)$) {\parbox[t]{6cm}{\centering \Huge \textcolor{titlered}{\bf\kepler #1}}};
}



\usetikzlibrary {shadows}

\RenewDocumentCommand{\RpgDrawCover}{}
{	
	\node at ($(current page.north)+(0,-3cm)$) {\RpgContour[inner=white,outer=black,style=\RpgFontTitle]{ \@title}};

	%%fancy red diamond
	\def\w{0.3\paperwidth}
	\def\h{0.005\paperwidth}
	\fill[red,circular glow={fill=black!80!red,scale=1}] ($(current page.north)+(0,-4cm)$)--++(\w,-\h)--++(-\w,-\h)--++(-\w,\h)--cycle;

	%%subtitle/author block
	\node[anchor=south] at ($(current page.south)+(0,+3cm)$) {\parbox[t]{0.9\paperwidth}{
		\begin{center}
		{\RpgContour[inner=white,outer=black,style=\RpgFontSubTitle]{\@subtitle}}

		\vspace{1cm}

		{\RpgContour[inner=white,outer=black,style=\RpgFontSubTitle]{\@author}}
		\end{center}
		}

	};
}

