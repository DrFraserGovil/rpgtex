\ExplSyntaxOff %%turn off to simplify formatting
\RpgSetPartPage
{
    \fill [white, opacity=0.5] (current page.south west) rectangle (current page.north east);

    \node at (current page.center) 
	[
        text width=0.8\paperwidth,
        align=center,
        yshift=2cm
    ]
    {
		\MakeUppercase{\RpgFontPart Part \thepart} \par
		\vspace{1em}
		{\RpgFontPart #1}
    };

}

\RpgSetTitleCover{

    %Add a semi-transparent black overlay for text visibility
    \fill [white, opacity=0.5] (current page.south west) rectangle (current page.north east);

	\node at (current page.center) {
		\parbox[t]{0.8\paperwidth}{
			\begin{center}
				\RpgFontTitle\color{black}
				\@title
				
				\vspace{1em}
				
				\RpgFontSubTitle {\color{black} \@subtitle}
				
				\vspace{1em}

				\RpgFontSubTitle {\color{black} \@author}
				
				\@date
				\end{center}
		}
	};
			
}

\ExplSyntaxOn %%turn on for if statement
\RpgSetTitleHeader{
	\def\contents{
		\begin{center}
			\RpgFontTitle 
					\@title\par

			\RpgFontSubTitle  
					\@subtitle\par
					
					\@author
		\end{center}	
		% \vspace{8pt}
		}
		
		
	%%perform a neat trick to get the title into the centre of a twocolumn doc
	\str_case:Nn \l__rpg_cols_tl
	{
		{onecolumn}{\contents}
		{twocolumn}{\twocolumn[\contents]}
	}
}
