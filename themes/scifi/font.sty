%%Set the D&D specific fonts
\ExplSyntaxOn
\sys_if_engine_xetex:F
{
  % Spit out a warning if XeLaTeX is detected for the PDFLaTeX-based D&D theme
  \msg_new:nnn { rpg } { scifi-xelatex-error }{#1}
%   { #1 }
  \msg_error:nnx { rpg } { scifi-xelatex-error }
    {
      The~scifi~theme~requires~compilation~with~xelatex
    }
}

\newfontfamily{\starTrek}{GalaxyEdge} % <--- Use Family + Style
[]

\newfontfamily{\scifi}{Orbitron}
[
  UprightFont = *-Bold,
  BoldFont= *-ExtraBold,
  ItalicFont=*-Bold,
]

\setmainfont{Jura}
[
  UprightFont = *-Regular,
  BoldFont= *-Bold,
  ItalicFont=EurostileBQ,
]



\RpgSetFont[
	%Sections
	title-family 		={\starTrek},
	title-style			= {\fontsize{80}{50}\selectfont\color{white}},
	subtitle-family		={\scifi},
	subtitle-style 		= {\Large \textcolor{white}},
	part-style			= {\fontsize{60}{50}\selectfont\color{titleblue}\starTrek\scshape},
	chapter-family		= {\normalfont},
	chapter-style		= {\scifi \Huge},
	section-style		= {\scifi \huge},,
	subsection-style	= {\scifi \Large},,
	subsubsection-style	= {\scifi \large},,
	paragraph-style		= {\bfseries \it \scifi},
	subparagraph-style	= {\bfseries \it \scifi},
	%Tables
	table-title-family	= {\scifi},
	table-title-style	= {\bfseries\large},
	table-header-family	= {\scifi},
	table-body-family	= {\normalfont},
	%tip boxes
	tip-title-family= {\scifi},
	tip-title-style	= {\bfseries\scshape},
	tip-body-family	= {\normalfont},
	tip-body-style	= {\small},
	%sidebars
	sidebar-title-family= {\scifi},
	sidebar-title-style	= {\bfseries\scifi},
	sidebar-body-family	= {\normalfont},
	sidebar-body-style	= {\small},
	%narration
	narration-family	= {\normalfont},
	narration-style		= {\small},
	% TOC
	toc-part-style		= {\Large \scifi},
	toc-chapter-style	= {\large \scifi},
	toc-section-style	= {\normalsize},
	%stat block
	stat-block-title-style= {\bfseries\scifi \LARGE},
	stat-block-body-family={\normalfont},
	stat-block-body-style={\small},
	stat-block-section-family={\scifi},
	stat-block-section-style={\scifi \large},
	%%misc
	footer-style		= {\scifi\scriptsize\textcolor{SlateGray}},
	page-number-style	= {\scifi\small\textcolor{SlateGray}},
	drop-cap-family		= {\starTrek},
	drop-cap-internal-style = {\scifi},
]{}

\str_if_eq:NNT \g__rpg_base_class_tl {article}
{
	\RpgSetFont[
		title-style			= {\Huge\color{black}},
		subtitle-style			= {\large\scifi\color{black}},
	]
	{}
}
\ExplSyntaxOff
