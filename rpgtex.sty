%% The basic RPG package defines the many of the commands used, but does not declare a documentstyle
%% This allows it to be used flexibly

\RequirePackage{expl3}
\ProvidesExplPackage{rpg}{2025/10/09} {0.0.0} { Template for RPG material }


\ExplSyntaxOn

%%Do I know where I am?
\input{core/lowlevel/validate_package_path}
\__rpg_validate_configuration:

%Am I loaded by a class?
\cs_if_exist:NTF \c__rpg_isclass_bool
    {
    % The variable already (loaded from a class, or a user being annoying)
    }
    {
    % Doesn't exist -- loaded by a barebones class, or as a standalone package
    \bool_new:N \c__rpg_isclass_bool
    \bool_set_false:N \c__rpg_isclass_bool

	\input {core/rpgoptions.clo}
    }


\tl_if_exist:NF \g__rpg_base_class_tl
{
    % 1. Create the variable (necessary before setting it)
    \tl_new:N \g__rpg_base_class_tl
}

%%Load the core definitions (which may reference the theme definitions)
\input {core/rpgcore.def}

%%Optionally input the theme overloads, which define new functions and take priority over the default functions


\RpgSetTheme{\tl_use:N \l__rpg_theme_tl}

\ExplSyntaxOff
